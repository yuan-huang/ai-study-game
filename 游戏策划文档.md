# 教学塔防游戏完整策划

## 1. 游戏概述

### 1.1 游戏类型
教育类塔防游戏

### 1.2 核心玩法
通过回答选择题获得积分，使用积分建造防御塔抵御敌人进攻

### 1.3 参考游戏
《保卫萝卜》+ 教育元素

### 1.4 目标用户
- 主要：中小学生
- 次要：教师、家长

## 2. 游戏核心循环

### 2.1 基础循环
```
答题获得积分 → 建造/升级防御塔 → 抵御敌人 → 获得新题目 → 继续答题
```

### 2.2 长期循环
```
完成关卡 → 解锁新关卡 → 遇到新知识点 → 学习新内容 → 挑战更难关卡
```

## 3. 游戏机制设计

### 3.1 答题系统
- **题目来源**: 通过API接口动态获取
- **题目类型**: 单选题
- **答题时限**: 0-60秒（可配置）
- **答题奖励**: 
  - 答对：获得基础积分 + 速度奖励
  - 答错：获得少量积分，显示正确答案和解析
- **连击系统**: 连续答对获得积分倍率加成

### 3.2 积分经济系统
- **基础积分**: 每题10分
- **速度奖励**: 剩余时间 × 0.5分
- **连击奖励**: 连击数 × 2分
- **完美通关**: 额外20%积分奖励

### 3.3 防御塔系统
- **塔的类型**:
  - 箭塔：攻击力中等，成本低
  - 炮塔：范围攻击，溅射伤害
  - 冰塔：减速效果，持续伤害
  - 雷电塔：高伤害单体攻击
  - 魔法塔：全能型，成本高

- **塔的属性**:
  - 攻击力
  - 攻击范围
  - 攻击速度
  - 特殊效果（减速、穿透、溅射等）
  - 建造成本
  - 升级成本

- **升级系统**:
  - 3级升级系统
  - 每级提升25%属性
  - 解锁新技能

### 3.4 敌人系统
- **普通小兵**: 血量低，速度快
- **装甲兵**: 血量高，速度慢，物理抗性
- **飞行兵**: 只能被特定塔攻击
- **隐身兵**: 需要探测塔才能发现
- **BOSS**: 血量极高，特殊技能

- **敌人属性**:
  - 生命值
  - 移动速度
  - 抗性类型
  - 奖励积分
  - 特殊能力

## 4. 关卡设计

### 4.1 关卡结构
- **世界**: 按年级/学科划分（如：小学数学世界、初中语文世界）
- **关卡**: 每个世界10-15个关卡
- **波次**: 每关卡5-8波敌人
- **难度递增**: 敌人血量和数量逐渐增加

### 4.2 关卡特色
- **知识点关联**: 每个关卡对应特定知识点
- **地图多样性**: 不同的路径设计
- **环境特效**: 如沙漠、森林、冰雪等主题
- **特殊机制**: 部分关卡有特殊规则

### 4.3 星级评价系统
- ⭐ 通关即可
- ⭐⭐ 答题正确率 > 80%
- ⭐⭐⭐ 答题正确率 > 95% + 血量保持 > 50%

## 5. 用户界面设计

### 5.1 主界面
- 关卡选择地图
- 个人信息展示（等级、积分、成就）
- 设置按钮
- 商店入口

### 5.2 游戏界面
- 游戏地图（70%屏幕）
- 题目显示区域
- 选项按钮
- 信息面板（生命值、积分、波次）
- 防御塔建造菜单

### 5.3 答题界面
- 清晰的题目显示
- 四个选项按钮
- 倒计时显示
- 答案解析弹窗

## 6. 数据接口设计

### 6.1 题目获取接口
```json
GET /api/questions?category={知识点}&level={难度}

响应格式：
{
    "id": 1,
    "question": "题目内容",
    "options": ["选项1", "选项2", "选项3", "选项4"],
    "right_answer": "正确答案",
    "category": "知识点",
    "level": "难度等级",
    "explanation": "答案解析"
}
```

### 6.2 答题结果上传接口
```json
POST /api/answers

请求数据：
{
    "question_id": 1,
    "user_answer": "用户答案",
    "is_correct": true,
    "answer_time": 25,
    "user_id": "用户ID",
    "game_session": "游戏会话ID"
}
```

### 6.3 学习进度接口
```json
POST /api/progress

请求数据：
{
    "user_id": "用户ID",
    "level_id": "关卡ID",
    "score": 850,
    "stars": 3,
    "completion_time": 180,
    "questions_answered": 12,
    "questions_correct": 11
}
```

## 7. 技术架构建议

### 7.1 前端技术栈
- **游戏引擎**: Unity / Cocos Creator / Phaser.js
- **UI框架**: UGUI / Cocos Studio
- **数据管理**: SQLite本地存储 + 网络同步

### 7.2 后端技术栈
- **API服务**: Node.js / Python Flask
- **数据库**: MongoDB / MySQL
- **缓存**: Redis
- **部署**: Docker + 云服务

### 7.3 数据安全
- 题目加密传输
- 答案验证机制
- 防作弊系统

## 8. 教育价值与特色

### 8.1 学习效果
- **及时反馈**: 答错立即显示正确答案和解析
- **重复练习**: 错题会在后续关卡中重新出现
- **知识图谱**: 建立知识点之间的关联
- **个性化学习**: 根据答题情况调整题目难度

### 8.2 游戏化元素
- **成就系统**: 连击、完美通关、知识点精通等成就
- **排行榜**: 好友/班级排行榜
- **收集要素**: 收集不同主题的防御塔
- **社交功能**: 可以向同学求助或讨论

## 9. 盈利模式（可选）

### 9.1 免费增值模式
- 基础游戏免费
- 高级题库订阅
- 特殊防御塔购买
- 去广告服务

### 9.2 教育机构合作
- 为学校提供定制题库
- 教师管理后台
- 学习报告生成

## 10. 开发阶段规划

### 10.1 第一阶段（MVP）
- 基础塔防玩法
- 简单答题系统
- 3-5个关卡
- 基础UI界面

### 10.2 第二阶段
- 完善游戏机制
- 增加关卡数量
- 添加成就系统
- 优化用户体验

### 10.3 第三阶段
- 社交功能
- 数据分析
- 个性化推荐
- 多平台支持

## 11. 风险评估与应对

### 11.1 技术风险
- **网络延迟**: 实现离线模式，预加载题目
- **设备兼容**: 多设备测试，渐进式降级

### 11.2 教育风险
- **题目质量**: 建立题目审核机制
- **难度平衡**: 数据驱动的难度调整算法

### 11.3 用户体验风险
- **游戏平衡**: 持续数据监控和调整
- **学习效果**: 定期学习效果评估

---

*本策划文档将作为游戏开发的指导文档，具体实现时可根据实际情况进行调整优化。* 